<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# rest

```go
import "github.com/image357/password/rest"
```

## Index

- [func DebugAccessCallback\(token string, ip string, resource string, id string\) bool](<#DebugAccessCallback>)
- [func FullAccessCallback\(\_ string, \_ string, \_ string, \_ string\) bool](<#FullAccessCallback>)
- [func StartMultiService\(bindAddress string, prefix string, key string, callback TestAccessFunc\) error](<#StartMultiService>)
- [func StartSimpleService\(bindAddress string, prefix string, key string, callback TestAccessFunc\) error](<#StartSimpleService>)
- [func StopService\(timeout int\) error](<#StopService>)
- [type TestAccessFunc](<#TestAccessFunc>)


<a name="DebugAccessCallback"></a>
## func [DebugAccessCallback](<https://github.com/image357/password/blob/main/rest/access.go#L11>)

```go
func DebugAccessCallback(token string, ip string, resource string, id string) bool
```

DebugAccessCallback returns the global variable debugAccessSuccess. It will log the arguments to the package logger in debug level.

<details><summary>Example</summary>
<p>



```go
err := StartSimpleService(":8080", "/", "123", DebugAccessCallback)
if err != nil {
	// handle error
}
```

</p>
</details>

<a name="FullAccessCallback"></a>
## func [FullAccessCallback](<https://github.com/image357/password/blob/main/rest/access.go#L17>)

```go
func FullAccessCallback(_ string, _ string, _ string, _ string) bool
```

FullAccessCallback will grant access to every rest request.

<details><summary>Example</summary>
<p>



```go
err := StartSimpleService(":8080", "/", "123", FullAccessCallback)
if err != nil {
	// handle error
}
```

</p>
</details>

<a name="StartMultiService"></a>
## func [StartMultiService](<https://github.com/image357/password/blob/main/rest/multi.go#L58>)

```go
func StartMultiService(bindAddress string, prefix string, key string, callback TestAccessFunc) error
```

StartMultiService creates a multi password rest service. The service binds to "/prefix/overwrite" \(PUT\), "/prefix/get" \(GET\), "/prefix/check" \(GET\), "/prefix/set" \(PUT\), "/prefix/unset" \(DELETE\), "/prefix/list" \(GET\), "/prefix/delete" \(DELETE\), "/prefix/clean" \(DELETE\). The callback of type TestAccessFunc will be called for every request to determine access.

<details><summary>Example</summary>
<p>



```go
// Start rest service on localhost:8080 without any access control.
err := StartMultiService(":8080", "/prefix", "123", func(string, string, string, string) bool { return true })
if err != nil {
	// handle error
}
```

</p>
</details>

<a name="StartSimpleService"></a>
## func [StartSimpleService](<https://github.com/image357/password/blob/main/rest/simple.go#L99>)

```go
func StartSimpleService(bindAddress string, prefix string, key string, callback TestAccessFunc) error
```

StartSimpleService creates a single password rest service. The service binds to "/prefix/overwrite" \(PUT\), "/prefix/get" \(GET\), "/prefix/check" \(GET\), "/prefix/set" \(PUT\), "/prefix/unset" \(DELETE\), "/prefix/delete" \(DELETE\). The callback of type TestAccessFunc will be called for every request to determine access.

<details><summary>Example</summary>
<p>



```go
// Start rest service on localhost:8080 without any access control.
err := StartSimpleService(":8080", "/prefix", "123", func(string, string, string, string) bool { return true })
if err != nil {
	// handle error
}
```

</p>
</details>

<a name="StopService"></a>
## func [StopService](<https://github.com/image357/password/blob/main/rest/simple.go#L124>)

```go
func StopService(timeout int) error
```

StopService will block execution and try to gracefully shut down any rest service during the timeout period. The service is guaranteed to be closed at the end of the timeout.

<a name="TestAccessFunc"></a>
## type [TestAccessFunc](<https://github.com/image357/password/blob/main/rest/simple.go#L33>)

TestAccessFunc is a callback signature. The callback will be called by the rest service for every request to determine access based on the accessToken.

```go
type TestAccessFunc func(token string, ip string, resource string, id string) bool
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
