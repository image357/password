<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# password

```go
import "github.com/image357/password"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func Check\(id string, password string, key string\) \(bool, error\)](<#Check>)
- [func Clean\(\) error](<#Clean>)
- [func DecryptOTP\(cipherBytes \[\]byte, secret \[\]byte\) string](<#DecryptOTP>)
- [func Delete\(id string\) error](<#Delete>)
- [func DisableRecovery\(\)](<#DisableRecovery>)
- [func EnableRecovery\(key string\)](<#EnableRecovery>)
- [func EncryptOTP\(text string\) \(\[\]byte, \[\]byte\)](<#EncryptOTP>)
- [func FilePath\(id string\) string](<#FilePath>)
- [func Get\(id string, key string\) \(string, error\)](<#Get>)
- [func GetFileEnding\(\) string](<#GetFileEnding>)
- [func GetStorePath\(\) string](<#GetStorePath>)
- [func List\(\) \(\[\]string, error\)](<#List>)
- [func NormalizeId\(path string\) string](<#NormalizeId>)
- [func Overwrite\(id string, password string, key string\) error](<#Overwrite>)
- [func Set\(id string, oldPassword string, newPassword string, key string\) error](<#Set>)
- [func SetFileEnding\(e string\)](<#SetFileEnding>)
- [func SetStorePath\(path string\)](<#SetStorePath>)
- [func Unset\(id string, password string, key string\) error](<#Unset>)
- [type HashFunc](<#HashFunc>)


## Constants

<a name="RecoveryIdSuffix"></a>RecoveryIdSuffix stores the id and file suffix that identifies recovery key files.

```go
const RecoveryIdSuffix string = ".recovery"
```

## Variables

<a name="HashPassword"></a>HashPassword signals if passwords will be stored as hashes.

```go
var HashPassword bool = false
```

<a name="StorageDirMode"></a>StorageDirMode controls the directory permission set by this package.

```go
var StorageDirMode os.FileMode = 0700
```

<a name="StorageFileMode"></a>StorageFileMode controls the file permission set by this package.

```go
var StorageFileMode os.FileMode = 0600
```

<a name="Check"></a>
## func [Check](<https://github.com/image357/password/blob/main/password.go#L107>)

```go
func Check(id string, password string, key string) (bool, error)
```

Check an existing password for equality with the provided password. key is the encryption secret for storage.

<a name="Clean"></a>
## func [Clean](<https://github.com/image357/password/blob/main/storage.go#L207>)

```go
func Clean() error
```

Clean \(delete\) all stored passwords.

<a name="DecryptOTP"></a>
## func [DecryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L279>)

```go
func DecryptOTP(cipherBytes []byte, secret []byte) string
```

DecryptOTP returns the decrypted message from a One\-Time\-Pad \(OTP\) encryption.

<a name="Delete"></a>
## func [Delete](<https://github.com/image357/password/blob/main/storage.go#L195>)

```go
func Delete(id string) error
```

Delete an existing password.

<a name="DisableRecovery"></a>
## func [DisableRecovery](<https://github.com/image357/password/blob/main/password.go#L29>)

```go
func DisableRecovery()
```

DisableRecovery will stop recovery key file storage alongside passwords.

<a name="EnableRecovery"></a>
## func [EnableRecovery](<https://github.com/image357/password/blob/main/password.go#L23>)

```go
func EnableRecovery(key string)
```

EnableRecovery will enforce recovery key file storage alongside passwords.

<a name="EncryptOTP"></a>
## func [EncryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L266>)

```go
func EncryptOTP(text string) ([]byte, []byte)
```

EncryptOTP returns a One\-Time\-Pad \(OTP\) encrypted message and its OTP secret.

<a name="FilePath"></a>
## func [FilePath](<https://github.com/image357/password/blob/main/storage.go#L72>)

```go
func FilePath(id string) string
```

FilePath returns the storage filepath of a given password\-id with system\-specific path separators. It accepts system\-unspecific or mixed id separators, i.e. forward\- and backward\-slashes are treated as the same character.

<a name="Get"></a>
## func [Get](<https://github.com/image357/password/blob/main/password.go#L81>)

```go
func Get(id string, key string) (string, error)
```

Get an existing password with id. key is the encryption secret for storage.

<a name="GetFileEnding"></a>
## func [GetFileEnding](<https://github.com/image357/password/blob/main/storage.go#L61>)

```go
func GetFileEnding() string
```

GetFileEnding returns the current file ending of storage files.

<a name="GetStorePath"></a>
## func [GetStorePath](<https://github.com/image357/password/blob/main/storage.go#L44>)

```go
func GetStorePath() string
```

GetStorePath returns the current storage path with system\-specific path separators.

<a name="List"></a>
## func [List](<https://github.com/image357/password/blob/main/storage.go#L161>)

```go
func List() ([]string, error)
```

List all stored password\-ids.

<a name="NormalizeId"></a>
## func [NormalizeId](<https://github.com/image357/password/blob/main/storage.go#L35>)

```go
func NormalizeId(path string) string
```

NormalizeId transforms path to lower case letters and normalizes the path separator

<a name="Overwrite"></a>
## func [Overwrite](<https://github.com/image357/password/blob/main/password.go#L41>)

```go
func Overwrite(id string, password string, key string) error
```

Overwrite an existing password or create a new one. key is the encryption secret for storage.

<a name="Set"></a>
## func [Set](<https://github.com/image357/password/blob/main/password.go#L129>)

```go
func Set(id string, oldPassword string, newPassword string, key string) error
```

Set an existing password\-id or create a new one. oldPassword must match the currently stored password. key is the encryption secret for storage.

<a name="SetFileEnding"></a>
## func [SetFileEnding](<https://github.com/image357/password/blob/main/storage.go#L66>)

```go
func SetFileEnding(e string)
```

SetFileEnding accepts a new file ending for storage files.

<a name="SetStorePath"></a>
## func [SetStorePath](<https://github.com/image357/password/blob/main/storage.go#L49>)

```go
func SetStorePath(path string)
```

SetStorePath accepts a new storage path with system\-unspecific or mixed path separators.

<a name="Unset"></a>
## func [Unset](<https://github.com/image357/password/blob/main/password.go#L150>)

```go
func Unset(id string, password string, key string) error
```

Unset \(delete\) an existing password. password must match the currently stored password. key is the encryption secret for storage.

<a name="HashFunc"></a>
## type [HashFunc](<https://github.com/image357/password/blob/main/encryption.go#L23>)

HashFunc is a function signature. The Hash function will be called for password and secret hashing.

```go
type HashFunc func(data []byte, salt []byte) [32]byte
```

<a name="Hash"></a>Hash will calculate a 32 byte hash from a given byte slice. It is used for password and secret hashing. You can overwrite it with any function that meets the HashFunc signature. By default, it is set to a variant of argon2.Key.

```go
var Hash HashFunc = argon2iHash
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
