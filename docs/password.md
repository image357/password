<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# password

```go
import "github.com/image357/password"
```

Package password provides a simple\-password\-manager library with an encryption backend to handle app passwords. For full documentation visit https://github.com/image357/password/blob/main/docs/password.md

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func Check\(id string, password string, key string\) \(bool, error\)](<#Check>)
- [func Clean\(\) error](<#Clean>)
- [func Decrypt\(ciphertext string, secret string\) \(string, error\)](<#Decrypt>)
- [func DecryptOTP\(cipherBytes \[\]byte, secret \[\]byte\) string](<#DecryptOTP>)
- [func Delete\(id string\) error](<#Delete>)
- [func DisableHashing\(\)](<#DisableHashing>)
- [func DisableRecovery\(\)](<#DisableRecovery>)
- [func DumpJSON\(\) \(string, error\)](<#DumpJSON>)
- [func EnableHashing\(\)](<#EnableHashing>)
- [func EnableRecovery\(key string\)](<#EnableRecovery>)
- [func Encrypt\(text string, secret string\) \(string, error\)](<#Encrypt>)
- [func EncryptOTP\(text string\) \(\[\]byte, \[\]byte\)](<#EncryptOTP>)
- [func Exists\(id string\) \(bool, error\)](<#Exists>)
- [func FilePath\(id string\) \(string, error\)](<#FilePath>)
- [func Get\(id string, key string\) \(string, error\)](<#Get>)
- [func GetStorePath\(\) \(string, error\)](<#GetStorePath>)
- [func List\(\) \(\[\]string, error\)](<#List>)
- [func LoadJSON\(input string\) error](<#LoadJSON>)
- [func NormalizeId\(id string\) string](<#NormalizeId>)
- [func Overwrite\(id string, password string, key string\) error](<#Overwrite>)
- [func ReadFromDisk\(path string\) error](<#ReadFromDisk>)
- [func RegisterDefaultManager\(identifier string\)](<#RegisterDefaultManager>)
- [func RewriteKey\(id string, oldKey string, newKey string\) error](<#RewriteKey>)
- [func Set\(id string, oldPassword string, newPassword string, key string\) error](<#Set>)
- [func SetDefaultManager\(manager \*Manager\)](<#SetDefaultManager>)
- [func SetStorePath\(path string\) error](<#SetStorePath>)
- [func SetTemporaryStorage\(\)](<#SetTemporaryStorage>)
- [func Unset\(id string, password string, key string\) error](<#Unset>)
- [func WriteToDisk\(path string\) error](<#WriteToDisk>)
- [type FileStorage](<#FileStorage>)
  - [func NewFileStorage\(\) \*FileStorage](<#NewFileStorage>)
  - [func \(f \*FileStorage\) Clean\(\) error](<#FileStorage.Clean>)
  - [func \(f \*FileStorage\) Delete\(id string\) error](<#FileStorage.Delete>)
  - [func \(f \*FileStorage\) DumpJSON\(\) \(string, error\)](<#FileStorage.DumpJSON>)
  - [func \(f \*FileStorage\) Exists\(id string\) \(bool, error\)](<#FileStorage.Exists>)
  - [func \(f \*FileStorage\) FilePath\(id string\) string](<#FileStorage.FilePath>)
  - [func \(f \*FileStorage\) GetStorePath\(\) string](<#FileStorage.GetStorePath>)
  - [func \(f \*FileStorage\) List\(\) \(\[\]string, error\)](<#FileStorage.List>)
  - [func \(f \*FileStorage\) LoadJSON\(input string\) error](<#FileStorage.LoadJSON>)
  - [func \(f \*FileStorage\) Retrieve\(id string\) \(string, error\)](<#FileStorage.Retrieve>)
  - [func \(f \*FileStorage\) SetStorePath\(path string\)](<#FileStorage.SetStorePath>)
  - [func \(f \*FileStorage\) Store\(id string, data string\) error](<#FileStorage.Store>)
- [type HashFunc](<#HashFunc>)
- [type Manager](<#Manager>)
  - [func GetDefaultManager\(\) \*Manager](<#GetDefaultManager>)
  - [func NewManager\(\) \*Manager](<#NewManager>)
  - [func \(m \*Manager\) Check\(id string, password string, key string\) \(bool, error\)](<#Manager.Check>)
  - [func \(m \*Manager\) Clean\(\) error](<#Manager.Clean>)
  - [func \(m \*Manager\) Delete\(id string\) error](<#Manager.Delete>)
  - [func \(m \*Manager\) DisableRecovery\(\)](<#Manager.DisableRecovery>)
  - [func \(m \*Manager\) EnableRecovery\(key string\)](<#Manager.EnableRecovery>)
  - [func \(m \*Manager\) Exists\(id string\) \(bool, error\)](<#Manager.Exists>)
  - [func \(m \*Manager\) Get\(id string, key string\) \(string, error\)](<#Manager.Get>)
  - [func \(m \*Manager\) List\(\) \(\[\]string, error\)](<#Manager.List>)
  - [func \(m \*Manager\) Overwrite\(id string, password string, key string\) error](<#Manager.Overwrite>)
  - [func \(m \*Manager\) RewriteKey\(id string, oldKey string, newKey string\) error](<#Manager.RewriteKey>)
  - [func \(m \*Manager\) Set\(id string, oldPassword string, newPassword string, key string\) error](<#Manager.Set>)
  - [func \(m \*Manager\) Unset\(id string, password string, key string\) error](<#Manager.Unset>)
- [type Storage](<#Storage>)
- [type TemporaryStorage](<#TemporaryStorage>)
  - [func NewTemporaryStorage\(\) \*TemporaryStorage](<#NewTemporaryStorage>)
  - [func \(t \*TemporaryStorage\) Clean\(\) error](<#TemporaryStorage.Clean>)
  - [func \(t \*TemporaryStorage\) Delete\(id string\) error](<#TemporaryStorage.Delete>)
  - [func \(t \*TemporaryStorage\) DumpJSON\(\) \(string, error\)](<#TemporaryStorage.DumpJSON>)
  - [func \(t \*TemporaryStorage\) Exists\(id string\) \(bool, error\)](<#TemporaryStorage.Exists>)
  - [func \(t \*TemporaryStorage\) List\(\) \(\[\]string, error\)](<#TemporaryStorage.List>)
  - [func \(t \*TemporaryStorage\) LoadJSON\(input string\) error](<#TemporaryStorage.LoadJSON>)
  - [func \(t \*TemporaryStorage\) ReadFromDisk\(path string\) error](<#TemporaryStorage.ReadFromDisk>)
  - [func \(t \*TemporaryStorage\) Retrieve\(id string\) \(string, error\)](<#TemporaryStorage.Retrieve>)
  - [func \(t \*TemporaryStorage\) Store\(id string, data string\) error](<#TemporaryStorage.Store>)
  - [func \(t \*TemporaryStorage\) WriteToDisk\(path string\) error](<#TemporaryStorage.WriteToDisk>)


## Constants

<a name="DefaultFileEnding"></a>DefaultFileEnding is the default file ending for password files of a file storage backend.

```go
const DefaultFileEnding string = "pwd"
```

<a name="DefaultStorePath"></a>DefaultStorePath is the default relative storage path of a file storage backend.

```go
const DefaultStorePath = "./password"
```

<a name="RecoveryIdSuffix"></a>RecoveryIdSuffix stores the id and file suffix that identifies recovery key files.

```go
const RecoveryIdSuffix string = ".recovery"
```

## Variables

<a name="Managers"></a>Managers stores a map of string identifiers for all created password managers. The identifier "default" always holds the default manager from GetDefaultManager. It can be set via SetDefaultManager. Do not manipulate directly.

```go
var Managers = map[string]*Manager{
    "default": NewManager(),
}
```

<a name="Check"></a>
## func [Check](<https://github.com/image357/password/blob/main/password.go#L66>)

```go
func Check(id string, password string, key string) (bool, error)
```

Check an existing password for equality with the provided password. key is the encryption secret for storage.

<a name="Clean"></a>
## func [Clean](<https://github.com/image357/password/blob/main/password.go#L100>)

```go
func Clean() error
```

Clean \(delete\) all stored passwords.

<a name="Decrypt"></a>
## func [Decrypt](<https://github.com/image357/password/blob/main/encryption.go#L221>)

```go
func Decrypt(ciphertext string, secret string) (string, error)
```

Decrypt a given ciphertext in base64 representation with AES256. The secret is hashed with the custom Hash function. Galois Counter Mode is used. The nonce is retrieved as a prefix of the ciphertext.

<a name="DecryptOTP"></a>
## func [DecryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L282>)

```go
func DecryptOTP(cipherBytes []byte, secret []byte) string
```

DecryptOTP returns the decrypted message from a One\-Time\-Pad \(OTP\) encryption.

<a name="Delete"></a>
## func [Delete](<https://github.com/image357/password/blob/main/password.go#L95>)

```go
func Delete(id string) error
```

Delete an existing password.

<a name="DisableHashing"></a>
## func [DisableHashing](<https://github.com/image357/password/blob/main/password.go#L37>)

```go
func DisableHashing()
```

DisableHashing will set the config variable Manager.HashPassword of the default password manager to false. This disables storage of hashed passwords.

<a name="DisableRecovery"></a>
## func [DisableRecovery](<https://github.com/image357/password/blob/main/password.go#L48>)

```go
func DisableRecovery()
```

DisableRecovery will stop recovery key file storage alongside passwords.

<a name="DumpJSON"></a>
## func [DumpJSON](<https://github.com/image357/password/blob/main/storage.go#L96>)

```go
func DumpJSON() (string, error)
```

DumpJSON serializes the storage backend to a JSON string.

<a name="EnableHashing"></a>
## func [EnableHashing](<https://github.com/image357/password/blob/main/password.go#L30>)

```go
func EnableHashing()
```

EnableHashing will set the config variable Manager.HashPassword of the default password manager to true. This enables storage of hashed passwords.

<a name="EnableRecovery"></a>
## func [EnableRecovery](<https://github.com/image357/password/blob/main/password.go#L43>)

```go
func EnableRecovery(key string)
```

EnableRecovery will enforce recovery key file storage alongside passwords.

<a name="Encrypt"></a>
## func [Encrypt](<https://github.com/image357/password/blob/main/encryption.go#L180>)

```go
func Encrypt(text string, secret string) (string, error)
```

Encrypt a given text with AES256 and return a base64 representation. The secret is hashed with the custom Hash function. Galois Counter Mode is used. The nonce is stored as a prefix of the ciphertext.

<a name="EncryptOTP"></a>
## func [EncryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L269>)

```go
func EncryptOTP(text string) ([]byte, []byte)
```

EncryptOTP returns a One\-Time\-Pad \(OTP\) encrypted message and its OTP secret.

<a name="Exists"></a>
## func [Exists](<https://github.com/image357/password/blob/main/password.go#L85>)

```go
func Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="FilePath"></a>
## func [FilePath](<https://github.com/image357/password/blob/main/storage.go#L79>)

```go
func FilePath(id string) (string, error)
```

FilePath returns the storage filepath of a given password\-id with system\-specific path separators. It accepts system\-unspecific or mixed id separators, i.e. forward\- and backward\-slashes are treated as the same character.

<a name="Get"></a>
## func [Get](<https://github.com/image357/password/blob/main/password.go#L60>)

```go
func Get(id string, key string) (string, error)
```

Get an existing password with id. key is the encryption secret for storage.

<a name="GetStorePath"></a>
## func [GetStorePath](<https://github.com/image357/password/blob/main/storage.go#L53>)

```go
func GetStorePath() (string, error)
```

GetStorePath returns the current storage path with system\-specific path separators.

<a name="List"></a>
## func [List](<https://github.com/image357/password/blob/main/password.go#L90>)

```go
func List() ([]string, error)
```

List all stored password\-ids.

<a name="LoadJSON"></a>
## func [LoadJSON](<https://github.com/image357/password/blob/main/storage.go#L110>)

```go
func LoadJSON(input string) error
```

LoadJSON deserializes a JSON string into the storage backend.

<a name="NormalizeId"></a>
## func [NormalizeId](<https://github.com/image357/password/blob/main/storage.go#L44>)

```go
func NormalizeId(id string) string
```

NormalizeId transforms path to lower case letters and normalizes the path separator

<a name="Overwrite"></a>
## func [Overwrite](<https://github.com/image357/password/blob/main/password.go#L54>)

```go
func Overwrite(id string, password string, key string) error
```

Overwrite an existing password or create a new one. key is the encryption secret for storage.

<a name="ReadFromDisk"></a>
## func [ReadFromDisk](<https://github.com/image357/password/blob/main/storage.go#L142>)

```go
func ReadFromDisk(path string) error
```

ReadFromDisk loads a FileStorage backend from disk into the current storage. Warning: This method does not block operations on the underlying storage backends \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

<a name="RegisterDefaultManager"></a>
## func [RegisterDefaultManager](<https://github.com/image357/password/blob/main/password.go#L23>)

```go
func RegisterDefaultManager(identifier string)
```

RegisterDefaultManager will register the current default password manger under the identifier and set a new default manager.

<a name="RewriteKey"></a>
## func [RewriteKey](<https://github.com/image357/password/blob/main/password.go#L107>)

```go
func RewriteKey(id string, oldKey string, newKey string) error
```

RewriteKey changes the storage key of a password from oldKey to newKey. Encryption hashes will be renewed. Stored metadata will be unchanged. If enabled, recovery entries will be recreated.

<a name="Set"></a>
## func [Set](<https://github.com/image357/password/blob/main/password.go#L73>)

```go
func Set(id string, oldPassword string, newPassword string, key string) error
```

Set an existing password\-id or create a new one. oldPassword must match the currently stored password. key is the encryption secret for storage.

<a name="SetDefaultManager"></a>
## func [SetDefaultManager](<https://github.com/image357/password/blob/main/password.go#L18>)

```go
func SetDefaultManager(manager *Manager)
```

SetDefaultManager will overwrite the current default password manager with the provided one.

<a name="SetStorePath"></a>
## func [SetStorePath](<https://github.com/image357/password/blob/main/storage.go#L65>)

```go
func SetStorePath(path string) error
```

SetStorePath accepts a new storage path with system\-unspecific or mixed path separators.

<a name="SetTemporaryStorage"></a>
## func [SetTemporaryStorage](<https://github.com/image357/password/blob/main/storage.go#L91>)

```go
func SetTemporaryStorage()
```

SetTemporaryStorage overwrites the current storage backend with a memory based one.

<a name="Unset"></a>
## func [Unset](<https://github.com/image357/password/blob/main/password.go#L80>)

```go
func Unset(id string, password string, key string) error
```

Unset \(delete\) an existing password. password must match the currently stored password. key is the encryption secret for storage.

<a name="WriteToDisk"></a>
## func [WriteToDisk](<https://github.com/image357/password/blob/main/storage.go#L127>)

```go
func WriteToDisk(path string) error
```

WriteToDisk saves the current storage to files via FileStorage mechanisms. Warning: This method does not block operations on the underlying storage backends \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

<a name="FileStorage"></a>
## type [FileStorage](<https://github.com/image357/password/blob/main/file.go#L31-L43>)

FileStorage is a file based storage backend.

```go
type FileStorage struct {
    // contains filtered or unexported fields
}
```

<a name="NewFileStorage"></a>
### func [NewFileStorage](<https://github.com/image357/password/blob/main/file.go#L46>)

```go
func NewFileStorage() *FileStorage
```

NewFileStorage returns a default initialized storage backend for persistent files.

<a name="FileStorage.Clean"></a>
### func \(\*FileStorage\) [Clean](<https://github.com/image357/password/blob/main/file.go#L234>)

```go
func (f *FileStorage) Clean() error
```

Clean \(delete\) all stored passwords.

<a name="FileStorage.Delete"></a>
### func \(\*FileStorage\) [Delete](<https://github.com/image357/password/blob/main/file.go#L221>)

```go
func (f *FileStorage) Delete(id string) error
```

Delete an existing password.

<a name="FileStorage.DumpJSON"></a>
### func \(\*FileStorage\) [DumpJSON](<https://github.com/image357/password/blob/main/file.go#L254>)

```go
func (f *FileStorage) DumpJSON() (string, error)
```

DumpJSON serializes the storage backend to a JSON string. Warning: This method does not block operations on the underlying storage backend \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

<a name="FileStorage.Exists"></a>
### func \(\*FileStorage\) [Exists](<https://github.com/image357/password/blob/main/file.go#L175>)

```go
func (f *FileStorage) Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="FileStorage.FilePath"></a>
### func \(\*FileStorage\) [FilePath](<https://github.com/image357/password/blob/main/file.go#L75>)

```go
func (f *FileStorage) FilePath(id string) string
```

FilePath returns the storage filepath of a given password\-id with system\-specific path separators. It accepts system\-unspecific or mixed id separators, i.e. forward\- and backward\-slashes are treated as the same character.

<a name="FileStorage.GetStorePath"></a>
### func \(\*FileStorage\) [GetStorePath](<https://github.com/image357/password/blob/main/file.go#L57>)

```go
func (f *FileStorage) GetStorePath() string
```

GetStorePath returns the current storage path with system\-specific path separators.

<a name="FileStorage.List"></a>
### func \(\*FileStorage\) [List](<https://github.com/image357/password/blob/main/file.go#L187>)

```go
func (f *FileStorage) List() ([]string, error)
```

List all stored password\-ids.

<a name="FileStorage.LoadJSON"></a>
### func \(\*FileStorage\) [LoadJSON](<https://github.com/image357/password/blob/main/file.go#L292>)

```go
func (f *FileStorage) LoadJSON(input string) error
```

LoadJSON deserializes a JSON string into the storage backend. Warning: This method does not block operations on the underlying storage backend \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

<a name="FileStorage.Retrieve"></a>
### func \(\*FileStorage\) [Retrieve](<https://github.com/image357/password/blob/main/file.go#L157>)

```go
func (f *FileStorage) Retrieve(id string) (string, error)
```

Retrieve data from an existing file. id is converted to the corresponding filepath.

<a name="FileStorage.SetStorePath"></a>
### func \(\*FileStorage\) [SetStorePath](<https://github.com/image357/password/blob/main/file.go#L62>)

```go
func (f *FileStorage) SetStorePath(path string)
```

SetStorePath accepts a new storage path with system\-unspecific or mixed path separators.

<a name="FileStorage.Store"></a>
### func \(\*FileStorage\) [Store](<https://github.com/image357/password/blob/main/file.go#L133>)

```go
func (f *FileStorage) Store(id string, data string) error
```

Store \(create/overwrite\) the provided data in a file. id is converted to the corresponding filepath. If necessary, subfolders are created.

<a name="HashFunc"></a>
## type [HashFunc](<https://github.com/image357/password/blob/main/encryption.go#L26>)

HashFunc is a function signature. The Hash function will be called for password and secret hashing.

```go
type HashFunc func(data []byte, salt []byte) [32]byte
```

<a name="Hash"></a>Hash will calculate a 32 byte hash from a given byte slice. It is used for password and secret hashing. You can overwrite it with any function that meets the HashFunc signature. By default, it is set to a variant of argon2.Key.

```go
var Hash HashFunc = argon2iHash
```

<a name="Manager"></a>
## type [Manager](<https://github.com/image357/password/blob/main/manager.go#L12-L26>)



```go
type Manager struct {
    // HashPassword signals if passwords will be stored as hashes.
    HashPassword bool
    // contains filtered or unexported fields
}
```

<a name="GetDefaultManager"></a>
### func [GetDefaultManager](<https://github.com/image357/password/blob/main/password.go#L13>)

```go
func GetDefaultManager() *Manager
```

GetDefaultManager returns the current default password manager.

<a name="NewManager"></a>
### func [NewManager](<https://github.com/image357/password/blob/main/manager.go#L29>)

```go
func NewManager() *Manager
```

NewManager creates a new passwordManager instance and applies basic initialization.

<a name="Manager.Check"></a>
### func \(\*Manager\) [Check](<https://github.com/image357/password/blob/main/manager.go#L124>)

```go
func (m *Manager) Check(id string, password string, key string) (bool, error)
```

Check an existing password for equality with the provided password. key is the encryption secret for storage.

<a name="Manager.Clean"></a>
### func \(\*Manager\) [Clean](<https://github.com/image357/password/blob/main/manager.go#L208>)

```go
func (m *Manager) Clean() error
```

Clean \(delete\) all stored passwords.

<a name="Manager.Delete"></a>
### func \(\*Manager\) [Delete](<https://github.com/image357/password/blob/main/manager.go#L202>)

```go
func (m *Manager) Delete(id string) error
```

Delete an existing password.

<a name="Manager.DisableRecovery"></a>
### func \(\*Manager\) [DisableRecovery](<https://github.com/image357/password/blob/main/manager.go#L46>)

```go
func (m *Manager) DisableRecovery()
```

DisableRecovery will stop recovery key file storage alongside passwords.

<a name="Manager.EnableRecovery"></a>
### func \(\*Manager\) [EnableRecovery](<https://github.com/image357/password/blob/main/manager.go#L40>)

```go
func (m *Manager) EnableRecovery(key string)
```

EnableRecovery will enforce recovery key file storage alongside passwords.

<a name="Manager.Exists"></a>
### func \(\*Manager\) [Exists](<https://github.com/image357/password/blob/main/manager.go#L191>)

```go
func (m *Manager) Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="Manager.Get"></a>
### func \(\*Manager\) [Get](<https://github.com/image357/password/blob/main/manager.go#L98>)

```go
func (m *Manager) Get(id string, key string) (string, error)
```

Get an existing password with id. key is the encryption secret for storage.

<a name="Manager.List"></a>
### func \(\*Manager\) [List](<https://github.com/image357/password/blob/main/manager.go#L197>)

```go
func (m *Manager) List() ([]string, error)
```

List all stored password\-ids.

<a name="Manager.Overwrite"></a>
### func \(\*Manager\) [Overwrite](<https://github.com/image357/password/blob/main/manager.go#L58>)

```go
func (m *Manager) Overwrite(id string, password string, key string) error
```

Overwrite an existing password or create a new one. key is the encryption secret for storage.

<a name="Manager.RewriteKey"></a>
### func \(\*Manager\) [RewriteKey](<https://github.com/image357/password/blob/main/manager.go#L215>)

```go
func (m *Manager) RewriteKey(id string, oldKey string, newKey string) error
```

RewriteKey changes the storage key of a password from oldKey to newKey. Encryption hashes will be renewed. Stored metadata will be unchanged. If enabled, recovery entries will be recreated.

<a name="Manager.Set"></a>
### func \(\*Manager\) [Set](<https://github.com/image357/password/blob/main/manager.go#L148>)

```go
func (m *Manager) Set(id string, oldPassword string, newPassword string, key string) error
```

Set an existing password\-id or create a new one. oldPassword must match the currently stored password. key is the encryption secret for storage.

<a name="Manager.Unset"></a>
### func \(\*Manager\) [Unset](<https://github.com/image357/password/blob/main/manager.go#L176>)

```go
func (m *Manager) Unset(id string, password string, key string) error
```

Unset \(delete\) an existing password. password must match the currently stored password. key is the encryption secret for storage.

<a name="Storage"></a>
## type [Storage](<https://github.com/image357/password/blob/main/storage.go#L12-L36>)



```go
type Storage interface {
    // Store (create/overwrite) the provided data.
    Store(id string, data string) error

    // Retrieve data from an existing storage entry.
    Retrieve(id string) (string, error)

    // Exists tests if a given id already exists in the storage backend.
    Exists(id string) (bool, error)

    // List all stored password-ids.
    List() ([]string, error)

    // Delete an existing password.
    Delete(id string) error

    // Clean (delete) all stored passwords.
    Clean() error

    // DumpJSON serializes the storage backend to a JSON string.
    DumpJSON() (string, error)

    // LoadJSON deserializes a JSON string into the storage backend.
    LoadJSON(input string) error
}
```

<a name="TemporaryStorage"></a>
## type [TemporaryStorage](<https://github.com/image357/password/blob/main/temporary.go#L15-L18>)

TemporaryStorage is a memory based storage backend.

```go
type TemporaryStorage struct {
    // contains filtered or unexported fields
}
```

<a name="NewTemporaryStorage"></a>
### func [NewTemporaryStorage](<https://github.com/image357/password/blob/main/temporary.go#L21>)

```go
func NewTemporaryStorage() *TemporaryStorage
```

NewTemporaryStorage returns a memory based storage backend.

<a name="TemporaryStorage.Clean"></a>
### func \(\*TemporaryStorage\) [Clean](<https://github.com/image357/password/blob/main/temporary.go#L96>)

```go
func (t *TemporaryStorage) Clean() error
```

Clean \(delete\) all stored passwords.

<a name="TemporaryStorage.Delete"></a>
### func \(\*TemporaryStorage\) [Delete](<https://github.com/image357/password/blob/main/temporary.go#L81>)

```go
func (t *TemporaryStorage) Delete(id string) error
```

Delete an existing password.

<a name="TemporaryStorage.DumpJSON"></a>
### func \(\*TemporaryStorage\) [DumpJSON](<https://github.com/image357/password/blob/main/temporary.go#L106>)

```go
func (t *TemporaryStorage) DumpJSON() (string, error)
```

DumpJSON serializes the storage backend to a JSON string.

<a name="TemporaryStorage.Exists"></a>
### func \(\*TemporaryStorage\) [Exists](<https://github.com/image357/password/blob/main/temporary.go#L52>)

```go
func (t *TemporaryStorage) Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="TemporaryStorage.List"></a>
### func \(\*TemporaryStorage\) [List](<https://github.com/image357/password/blob/main/temporary.go#L66>)

```go
func (t *TemporaryStorage) List() ([]string, error)
```

List all stored password\-ids.

<a name="TemporaryStorage.LoadJSON"></a>
### func \(\*TemporaryStorage\) [LoadJSON](<https://github.com/image357/password/blob/main/temporary.go#L127>)

```go
func (t *TemporaryStorage) LoadJSON(input string) error
```

LoadJSON deserializes a JSON string into the storage backend.

<a name="TemporaryStorage.ReadFromDisk"></a>
### func \(\*TemporaryStorage\) [ReadFromDisk](<https://github.com/image357/password/blob/main/temporary.go#L195>)

```go
func (t *TemporaryStorage) ReadFromDisk(path string) error
```

ReadFromDisk loads a FileStorage backend from disk into a temporary storage. Warning: This method does not block operations on the underlying storage backends \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

<a name="TemporaryStorage.Retrieve"></a>
### func \(\*TemporaryStorage\) [Retrieve](<https://github.com/image357/password/blob/main/temporary.go#L38>)

```go
func (t *TemporaryStorage) Retrieve(id string) (string, error)
```

Retrieve data from an existing memory location.

<a name="TemporaryStorage.Store"></a>
### func \(\*TemporaryStorage\) [Store](<https://github.com/image357/password/blob/main/temporary.go#L28>)

```go
func (t *TemporaryStorage) Store(id string, data string) error
```

Store \(create/overwrite\) the provided data.

<a name="TemporaryStorage.WriteToDisk"></a>
### func \(\*TemporaryStorage\) [WriteToDisk](<https://github.com/image357/password/blob/main/temporary.go#L165>)

```go
func (t *TemporaryStorage) WriteToDisk(path string) error
```

WriteToDisk saves the temporary storage to files via FileStorage mechanisms. Warning: This method does not block operations on the underlying storage backends \(read/write/create/delete\). You should stop operations manually before usage or ignore the reported error. Data consistency is guaranteed.

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
