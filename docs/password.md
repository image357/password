<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# password

```go
import "github.com/image357/password"
```

## Index

- [Constants](<#constants>)
- [Variables](<#variables>)
- [func Check\(id string, password string, key string\) \(bool, error\)](<#Check>)
- [func Clean\(\) error](<#Clean>)
- [func DecryptOTP\(cipherBytes \[\]byte, secret \[\]byte\) string](<#DecryptOTP>)
- [func Delete\(id string\) error](<#Delete>)
- [func DisableRecovery\(\)](<#DisableRecovery>)
- [func EnableRecovery\(key string\)](<#EnableRecovery>)
- [func EncryptOTP\(text string\) \(\[\]byte, \[\]byte\)](<#EncryptOTP>)
- [func Exists\(id string\) \(bool, error\)](<#Exists>)
- [func FilePath\(id string\) \(string, error\)](<#FilePath>)
- [func Get\(id string, key string\) \(string, error\)](<#Get>)
- [func GetFileEnding\(\) \(string, error\)](<#GetFileEnding>)
- [func GetStorePath\(\) \(string, error\)](<#GetStorePath>)
- [func List\(\) \(\[\]string, error\)](<#List>)
- [func NormalizeId\(id string\) string](<#NormalizeId>)
- [func Overwrite\(id string, password string, key string\) error](<#Overwrite>)
- [func RegisterDefaultManager\(identifier string\)](<#RegisterDefaultManager>)
- [func Set\(id string, oldPassword string, newPassword string, key string\) error](<#Set>)
- [func SetDefaultManager\(manager \*Manager\)](<#SetDefaultManager>)
- [func SetFileEnding\(e string\) error](<#SetFileEnding>)
- [func SetStorePath\(path string\) error](<#SetStorePath>)
- [func ToggleHashPassword\(\) bool](<#ToggleHashPassword>)
- [func Unset\(id string, password string, key string\) error](<#Unset>)
- [type FileStorage](<#FileStorage>)
  - [func NewFileStorage\(\) \*FileStorage](<#NewFileStorage>)
  - [func \(f \*FileStorage\) Clean\(\) error](<#FileStorage.Clean>)
  - [func \(f \*FileStorage\) Delete\(id string\) error](<#FileStorage.Delete>)
  - [func \(f \*FileStorage\) Exists\(id string\) \(bool, error\)](<#FileStorage.Exists>)
  - [func \(f \*FileStorage\) FilePath\(id string\) string](<#FileStorage.FilePath>)
  - [func \(f \*FileStorage\) GetFileEnding\(\) string](<#FileStorage.GetFileEnding>)
  - [func \(f \*FileStorage\) GetStorePath\(\) string](<#FileStorage.GetStorePath>)
  - [func \(f \*FileStorage\) List\(\) \(\[\]string, error\)](<#FileStorage.List>)
  - [func \(f \*FileStorage\) Retrieve\(id string\) \(string, error\)](<#FileStorage.Retrieve>)
  - [func \(f \*FileStorage\) SetFileEnding\(e string\)](<#FileStorage.SetFileEnding>)
  - [func \(f \*FileStorage\) SetStorePath\(path string\)](<#FileStorage.SetStorePath>)
  - [func \(f \*FileStorage\) Store\(id string, data string\) error](<#FileStorage.Store>)
- [type HashFunc](<#HashFunc>)
- [type Manager](<#Manager>)
  - [func GetDefaultManager\(\) \*Manager](<#GetDefaultManager>)
  - [func NewManager\(\) \*Manager](<#NewManager>)
  - [func \(m \*Manager\) Check\(id string, password string, key string\) \(bool, error\)](<#Manager.Check>)
  - [func \(m \*Manager\) Clean\(\) error](<#Manager.Clean>)
  - [func \(m \*Manager\) Delete\(id string\) error](<#Manager.Delete>)
  - [func \(m \*Manager\) DisableRecovery\(\)](<#Manager.DisableRecovery>)
  - [func \(m \*Manager\) EnableRecovery\(key string\)](<#Manager.EnableRecovery>)
  - [func \(m \*Manager\) Exists\(id string\) \(bool, error\)](<#Manager.Exists>)
  - [func \(m \*Manager\) Get\(id string, key string\) \(string, error\)](<#Manager.Get>)
  - [func \(m \*Manager\) List\(\) \(\[\]string, error\)](<#Manager.List>)
  - [func \(m \*Manager\) Overwrite\(id string, password string, key string\) error](<#Manager.Overwrite>)
  - [func \(m \*Manager\) Set\(id string, oldPassword string, newPassword string, key string\) error](<#Manager.Set>)
  - [func \(m \*Manager\) Unset\(id string, password string, key string\) error](<#Manager.Unset>)
- [type Storage](<#Storage>)


## Constants

<a name="DefaultFileEnding"></a>DefaultFileEnding is the default file ending for password files of a file storage backend.

```go
const DefaultFileEnding string = "pwd"
```

<a name="DefaultStorePath"></a>DefaultStorePath is the default relative storage path of a file storage backend.

```go
const DefaultStorePath = "./password"
```

<a name="RecoveryIdSuffix"></a>RecoveryIdSuffix stores the id and file suffix that identifies recovery key files.

```go
const RecoveryIdSuffix string = ".recovery"
```

## Variables

<a name="Managers"></a>Managers stores a map of string identifiers for all created password managers. The identifier "default" always holds the default manager from GetDefaultManager. It can be set via SetDefaultManager. Do not manipulate directly.

```go
var Managers map[string]*Manager = map[string]*Manager{
    "default": NewManager(),
}
```

<a name="Check"></a>
## func [Check](<https://github.com/image357/password/blob/main/password.go#L57>)

```go
func Check(id string, password string, key string) (bool, error)
```

Check an existing password for equality with the provided password. key is the encryption secret for storage.

<a name="Clean"></a>
## func [Clean](<https://github.com/image357/password/blob/main/password.go#L91>)

```go
func Clean() error
```

Clean \(delete\) all stored passwords.

<a name="DecryptOTP"></a>
## func [DecryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L282>)

```go
func DecryptOTP(cipherBytes []byte, secret []byte) string
```

DecryptOTP returns the decrypted message from a One\-Time\-Pad \(OTP\) encryption.

<a name="Delete"></a>
## func [Delete](<https://github.com/image357/password/blob/main/password.go#L86>)

```go
func Delete(id string) error
```

Delete an existing password.

<a name="DisableRecovery"></a>
## func [DisableRecovery](<https://github.com/image357/password/blob/main/password.go#L39>)

```go
func DisableRecovery()
```

DisableRecovery will stop recovery key file storage alongside passwords.

<a name="EnableRecovery"></a>
## func [EnableRecovery](<https://github.com/image357/password/blob/main/password.go#L34>)

```go
func EnableRecovery(key string)
```

EnableRecovery will enforce recovery key file storage alongside passwords.

<a name="EncryptOTP"></a>
## func [EncryptOTP](<https://github.com/image357/password/blob/main/encryption.go#L269>)

```go
func EncryptOTP(text string) ([]byte, []byte)
```

EncryptOTP returns a One\-Time\-Pad \(OTP\) encrypted message and its OTP secret.

<a name="Exists"></a>
## func [Exists](<https://github.com/image357/password/blob/main/password.go#L76>)

```go
func Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="FilePath"></a>
## func [FilePath](<https://github.com/image357/password/blob/main/storage.go#L86>)

```go
func FilePath(id string) (string, error)
```

FilePath returns the storage filepath of a given password\-id with system\-specific path separators. It accepts system\-unspecific or mixed id separators, i.e. forward\- and backward\-slashes are treated as the same character.

<a name="Get"></a>
## func [Get](<https://github.com/image357/password/blob/main/password.go#L51>)

```go
func Get(id string, key string) (string, error)
```

Get an existing password with id. key is the encryption secret for storage.

<a name="GetFileEnding"></a>
## func [GetFileEnding](<https://github.com/image357/password/blob/main/storage.go#L60>)

```go
func GetFileEnding() (string, error)
```

GetFileEnding returns the current file ending of storage files.

<a name="GetStorePath"></a>
## func [GetStorePath](<https://github.com/image357/password/blob/main/storage.go#L35>)

```go
func GetStorePath() (string, error)
```

GetStorePath returns the current storage path with system\-specific path separators.

<a name="List"></a>
## func [List](<https://github.com/image357/password/blob/main/password.go#L81>)

```go
func List() ([]string, error)
```

List all stored password\-ids.

<a name="NormalizeId"></a>
## func [NormalizeId](<https://github.com/image357/password/blob/main/storage.go#L26>)

```go
func NormalizeId(id string) string
```

NormalizeId transforms path to lower case letters and normalizes the path separator

<a name="Overwrite"></a>
## func [Overwrite](<https://github.com/image357/password/blob/main/password.go#L45>)

```go
func Overwrite(id string, password string, key string) error
```

Overwrite an existing password or create a new one. key is the encryption secret for storage.

<a name="RegisterDefaultManager"></a>
## func [RegisterDefaultManager](<https://github.com/image357/password/blob/main/password.go#L21>)

```go
func RegisterDefaultManager(identifier string)
```

RegisterDefaultManager will register the current default password manger under the identifier and set a new default manager.

<a name="Set"></a>
## func [Set](<https://github.com/image357/password/blob/main/password.go#L64>)

```go
func Set(id string, oldPassword string, newPassword string, key string) error
```

Set an existing password\-id or create a new one. oldPassword must match the currently stored password. key is the encryption secret for storage.

<a name="SetDefaultManager"></a>
## func [SetDefaultManager](<https://github.com/image357/password/blob/main/password.go#L16>)

```go
func SetDefaultManager(manager *Manager)
```

SetDefaultManager will overwrite the current default password manager with the provided one.

<a name="SetFileEnding"></a>
## func [SetFileEnding](<https://github.com/image357/password/blob/main/storage.go#L72>)

```go
func SetFileEnding(e string) error
```

SetFileEnding accepts a new file ending for storage files.

<a name="SetStorePath"></a>
## func [SetStorePath](<https://github.com/image357/password/blob/main/storage.go#L47>)

```go
func SetStorePath(path string) error
```

SetStorePath accepts a new storage path with system\-unspecific or mixed path separators.

<a name="ToggleHashPassword"></a>
## func [ToggleHashPassword](<https://github.com/image357/password/blob/main/password.go#L27>)

```go
func ToggleHashPassword() bool
```

ToggleHashPassword will toggle the config variable HashPassword of the default password manager and return the current state.

<a name="Unset"></a>
## func [Unset](<https://github.com/image357/password/blob/main/password.go#L71>)

```go
func Unset(id string, password string, key string) error
```

Unset \(delete\) an existing password. password must match the currently stored password. key is the encryption secret for storage.

<a name="FileStorage"></a>
## type [FileStorage](<https://github.com/image357/password/blob/main/file.go#L29-L44>)

FileStorage is a file based storage backend.

```go
type FileStorage struct {
    // contains filtered or unexported fields
}
```

<a name="NewFileStorage"></a>
### func [NewFileStorage](<https://github.com/image357/password/blob/main/file.go#L46>)

```go
func NewFileStorage() *FileStorage
```



<a name="FileStorage.Clean"></a>
### func \(\*FileStorage\) [Clean](<https://github.com/image357/password/blob/main/file.go#L243>)

```go
func (f *FileStorage) Clean() error
```

Clean \(delete\) all stored passwords.

<a name="FileStorage.Delete"></a>
### func \(\*FileStorage\) [Delete](<https://github.com/image357/password/blob/main/file.go#L231>)

```go
func (f *FileStorage) Delete(id string) error
```

Delete an existing password.

<a name="FileStorage.Exists"></a>
### func \(\*FileStorage\) [Exists](<https://github.com/image357/password/blob/main/file.go#L185>)

```go
func (f *FileStorage) Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="FileStorage.FilePath"></a>
### func \(\*FileStorage\) [FilePath](<https://github.com/image357/password/blob/main/file.go#L86>)

```go
func (f *FileStorage) FilePath(id string) string
```

FilePath returns the storage filepath of a given password\-id with system\-specific path separators. It accepts system\-unspecific or mixed id separators, i.e. forward\- and backward\-slashes are treated as the same character.

<a name="FileStorage.GetFileEnding"></a>
### func \(\*FileStorage\) [GetFileEnding](<https://github.com/image357/password/blob/main/file.go#L75>)

```go
func (f *FileStorage) GetFileEnding() string
```

GetFileEnding returns the current file ending of storage files.

<a name="FileStorage.GetStorePath"></a>
### func \(\*FileStorage\) [GetStorePath](<https://github.com/image357/password/blob/main/file.go#L58>)

```go
func (f *FileStorage) GetStorePath() string
```

GetStorePath returns the current storage path with system\-specific path separators.

<a name="FileStorage.List"></a>
### func \(\*FileStorage\) [List](<https://github.com/image357/password/blob/main/file.go#L197>)

```go
func (f *FileStorage) List() ([]string, error)
```

List all stored password\-ids.

<a name="FileStorage.Retrieve"></a>
### func \(\*FileStorage\) [Retrieve](<https://github.com/image357/password/blob/main/file.go#L168>)

```go
func (f *FileStorage) Retrieve(id string) (string, error)
```

Retrieve data from an existing file. id is converted to the corresponding filepath.

<a name="FileStorage.SetFileEnding"></a>
### func \(\*FileStorage\) [SetFileEnding](<https://github.com/image357/password/blob/main/file.go#L80>)

```go
func (f *FileStorage) SetFileEnding(e string)
```

SetFileEnding accepts a new file ending for storage files.

<a name="FileStorage.SetStorePath"></a>
### func \(\*FileStorage\) [SetStorePath](<https://github.com/image357/password/blob/main/file.go#L63>)

```go
func (f *FileStorage) SetStorePath(path string)
```

SetStorePath accepts a new storage path with system\-unspecific or mixed path separators.

<a name="FileStorage.Store"></a>
### func \(\*FileStorage\) [Store](<https://github.com/image357/password/blob/main/file.go#L144>)

```go
func (f *FileStorage) Store(id string, data string) error
```

Store \(create/overwrite\) the provided data in a file. id is converted to the corresponding filepath. If necessary, subfolders are created.

<a name="HashFunc"></a>
## type [HashFunc](<https://github.com/image357/password/blob/main/encryption.go#L26>)

HashFunc is a function signature. The Hash function will be called for password and secret hashing.

```go
type HashFunc func(data []byte, salt []byte) [32]byte
```

<a name="Hash"></a>Hash will calculate a 32 byte hash from a given byte slice. It is used for password and secret hashing. You can overwrite it with any function that meets the HashFunc signature. By default, it is set to a variant of argon2.Key.

```go
var Hash HashFunc = argon2iHash
```

<a name="Manager"></a>
## type [Manager](<https://github.com/image357/password/blob/main/manager.go#L12-L26>)



```go
type Manager struct {
    // HashPassword signals if passwords will be stored as hashes.
    HashPassword bool
    // contains filtered or unexported fields
}
```

<a name="GetDefaultManager"></a>
### func [GetDefaultManager](<https://github.com/image357/password/blob/main/password.go#L11>)

```go
func GetDefaultManager() *Manager
```

GetDefaultManager returns the current default password manager.

<a name="NewManager"></a>
### func [NewManager](<https://github.com/image357/password/blob/main/manager.go#L29>)

```go
func NewManager() *Manager
```

NewManager creates a new passwordManager instance and applies basic initialization.

<a name="Manager.Check"></a>
### func \(\*Manager\) [Check](<https://github.com/image357/password/blob/main/manager.go#L124>)

```go
func (m *Manager) Check(id string, password string, key string) (bool, error)
```

Check an existing password for equality with the provided password. key is the encryption secret for storage.

<a name="Manager.Clean"></a>
### func \(\*Manager\) [Clean](<https://github.com/image357/password/blob/main/manager.go#L200>)

```go
func (m *Manager) Clean() error
```

Clean \(delete\) all stored passwords.

<a name="Manager.Delete"></a>
### func \(\*Manager\) [Delete](<https://github.com/image357/password/blob/main/manager.go#L195>)

```go
func (m *Manager) Delete(id string) error
```

Delete an existing password.

<a name="Manager.DisableRecovery"></a>
### func \(\*Manager\) [DisableRecovery](<https://github.com/image357/password/blob/main/manager.go#L46>)

```go
func (m *Manager) DisableRecovery()
```

DisableRecovery will stop recovery key file storage alongside passwords.

<a name="Manager.EnableRecovery"></a>
### func \(\*Manager\) [EnableRecovery](<https://github.com/image357/password/blob/main/manager.go#L40>)

```go
func (m *Manager) EnableRecovery(key string)
```

EnableRecovery will enforce recovery key file storage alongside passwords.

<a name="Manager.Exists"></a>
### func \(\*Manager\) [Exists](<https://github.com/image357/password/blob/main/manager.go#L185>)

```go
func (m *Manager) Exists(id string) (bool, error)
```

Exists tests if a given id already exists in the storage backend.

<a name="Manager.Get"></a>
### func \(\*Manager\) [Get](<https://github.com/image357/password/blob/main/manager.go#L98>)

```go
func (m *Manager) Get(id string, key string) (string, error)
```

Get an existing password with id. key is the encryption secret for storage.

<a name="Manager.List"></a>
### func \(\*Manager\) [List](<https://github.com/image357/password/blob/main/manager.go#L190>)

```go
func (m *Manager) List() ([]string, error)
```

List all stored password\-ids.

<a name="Manager.Overwrite"></a>
### func \(\*Manager\) [Overwrite](<https://github.com/image357/password/blob/main/manager.go#L58>)

```go
func (m *Manager) Overwrite(id string, password string, key string) error
```

Overwrite an existing password or create a new one. key is the encryption secret for storage.

<a name="Manager.Set"></a>
### func \(\*Manager\) [Set](<https://github.com/image357/password/blob/main/manager.go#L146>)

```go
func (m *Manager) Set(id string, oldPassword string, newPassword string, key string) error
```

Set an existing password\-id or create a new one. oldPassword must match the currently stored password. key is the encryption secret for storage.

<a name="Manager.Unset"></a>
### func \(\*Manager\) [Unset](<https://github.com/image357/password/blob/main/manager.go#L172>)

```go
func (m *Manager) Unset(id string, password string, key string) error
```

Unset \(delete\) an existing password. password must match the currently stored password. key is the encryption secret for storage.

<a name="Storage"></a>
## type [Storage](<https://github.com/image357/password/blob/main/storage.go#L11-L18>)



```go
type Storage interface {
    Store(id string, data string) error
    Retrieve(id string) (string, error)
    Exists(id string) (bool, error)
    List() ([]string, error)
    Delete(id string) error
    Clean() error
}
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
